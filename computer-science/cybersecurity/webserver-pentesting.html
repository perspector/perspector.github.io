<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benjamin Chase</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <!-- box icons -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- custom css -->
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>

    <!-- header design -->
    <header class="header">
        <a href="../../index.html" class="logo">Benjamin Chase</a>

        <div class='bx bx-menu' id="menu-icon"></div>

        <nav class="navbar">
            <a href="/index.html" class="active">Home</a>
            <a href="/index.html#about">About</a>
            <a href="/engineering/pre-engineering.html">Pre-Engineering</a>
            <a href="/computer-science/computer-science.html">Computer Science</a>
            <a href="/other-projects/other-projects.html">Other Projects</a>
            <a href="/work-experience/work-experience.html">Work Experience</a>
        </nav>
    </header>

    <!-- home section design -->
    <section class="home" id="home">
        <div class="home-content">
            <h3>Benjamin Chase</h3>
            <!-- Animated Typing -->
            <h1>
                <!-- Element to contain animated typing -->
                <span id="element"></span>

                <!-- Load library from the CDN -->
                <script src="https://unpkg.com/typed.js@2.0.15/dist/typed.umd.js"></script>

                <!-- Setup and start animation! -->
                <script>
                    var typed = new Typed('#element', {
                        startDelay: 1000,
                        strings: ["<i>Testing Webserver Security</i>"],
                        typeSpeed: 150,
                        cursorChar: "<i>|<i>",
                        loop: false,
                    });
                </script>
            </h1>

            <h2>
                -> 2nd Cybersecurity project, involved identifying website vulnerabilities and securing a webserver.
            </h2>
        </div>
    </section>

    <!-- portfolio section design -->
    <section class="design-process" id="design-process">
        <h2 class="heading"><span>Analysis</span> Process</h2>

        <div class="design-process-container">
            <span><h1>Project Objective</h1></span>
            <p>
                This project followed the scenario described below:
            </p>
            <p>
                A company specializing in retailing bicycles, snowboards, and other outdoor active gear has a new e-commerce website.
                The name of the ompany is "Bikes, Boards, and Beyond."
                They need to ensure that the website and webserver are secure against multiple attacks to ensure that their business is secure.
                Their website includes a Retrieve Order page and Message Board page.
            </p>

            <h1>Network Topology</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting1.webp" alt="Proposed network topology">
            </div>
            <p>
                This is my proposed network topology for Bikes, Boards, and Beyond.
            </p>
            <p>
                The webserver should be publicly available, so it is connected to the internet with only one router behind a firewall.
                The firewall is necessary since some ports (such as SSH) should probably not be enabled.
            </p>
            <p>
                The customer data server should not be directly connected to the internet, it should be behind the webserver.
                However, the customer data server must be connected to the webserver as shipping and account information must be stored automatically from the website.
                However, this sensitive data should not be stored on the webserver, as the webserver has ports such as HTTPS and FTP open and is thus more vulnerable to attack.
                The data should be secured on the internal Bikes, Boards, and Beyond customer data server.
            </p>
            <p>
                Access computers are needed for accessing the databases on the individual server systems.
                These access computers are needed to modify information from Bikes, Boards, and Beyond.
                They must be internal as they have direct access to the internal servers with only a firewall in between.
            </p>
            <p>
                I believe that the employee data should be stored offline, as this data does not need high availability.
                Employee data should not be accessible online, which makes it much more difficult to access.
                For Bikes, Boards, and Beyond, employees are likely not working online and systems do not need access to their data from outside the Bikes, Boards, and Beyond internal network.
            </p>
            <p>
                Each server has a backup server (represented by the two servers with arrows between them).
                In case one server fails, the other server can take the network load.
            </p>
            <p>
                Additionally, customers do not connect directly to the Bikes, Boards, and Beyond servers.
                They should connect their personal computers from a home network through a firewall and a router, and then connect to a DNS (Domain Name Server) server.
                This DNS server then gives the customer's personal computer the IP address of the Bikes, Boards, and Beyond webserver,
                which can then be accessed over the internet through a Bikes, Boards, and Beyond router and firewall for safety.
            </p>

            <h1><span>Plan of Action</span></h1>
            <ol>
                <li>Determine the IP address of the webserver</li>
                <li>Use the netstat command in PowerShell using the server's IP address to determine the services running on the webserver. These may include SMTP or FTP which may be vulnerable.</li>
                <li>Login to the Bikes, Boards, and Beyond website using the provided credentials (admin/password)</li>
                <li>Explore the website and attempt forceful directory browsing</li>
                <li>Attempt to find logfiles which may contain sensitive data</li>
                <li>If FTP is enabled, attempt to use FTP with found credentials</li>
                <li>Perform cross-site scripting (XSS) on all forms</li>
                <li>Perform SQL injection on all forms</li>
                <li>Attempt a ping flood attack on the webserver</li>
                <li>Attempt remote code execution on all forms</li>
                <li>Secure the webserver by disabling unnecessary features, enabling the firewall, and choosing more secure settings. I will use the IIS (Internet Information Services) Manager on the webserver for this.</li>
            </ol>


            <h1><span>Determine Running Services</span></h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting2.webp" alt="Using netstat to determine running services.">
            </div>
            <p>
                I ran netstat â€“an 172.30.0.15 on the webserver, I was able to determine which ports were open.
                Port 21 (FTP) was open, but port 25 (SMTP) was closed (not in the list).
                This means that FTP is running but SMTP is not running.
                FTP stands for the File Transfer Protocol, and is used for transferring files.
                SMTP is a vulnerable mail service (Simple Mail Transfer Protocol). 
            </p>


            <h1><span>No Vulnerability:</span> SMTP</h1>
            <p>
                Since port 25 is closed, SMTP is not being used. Thus, SMTP is not a vulnerability.
            </p>


            <h1><span>Vulnerability:</span> Forceful Directory Browsing</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting3.webp" alt="Forceful directory browsing">
            </div>
            <p>
                I attempted forceful directory browsing, and succeeded at browsing directories.
                Forceful directory browsing is when an attacker accesses an unlisted URL of a website, in this case the root URL of the webserver.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting4.webp" alt="Disabling directory browsing">
                <img src="webserver-pentesting5.webp" alt="Directory browsing is disabled">
            </div>
            <p>
                Directory browsing was enabled in the IIS Manager, so I disabled it.
            </p>


            <h1><span>Vulnerability:</span> Visible Logfiles</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting6.webp" alt="Logfile contents">
            </div>
            <p>
                Logfiles were visible and could be downloaded through forceful directory browsing.
                One logfile contained a username and password for FTP (anonymous/test).
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting7.webp" alt="Vulnerable logfile location">
                <img src="webserver-pentesting8.webp" alt="Safer logfile location">
            </div>
            <p>
                To prevent this vulnerability, the directory browsing needed to be disabled, and the logfile location needed to be changed.
                The default storage location for logfiles on the IIS server is in C:\inetpub\logs\LogFiles, which is easy for an attacker to guess.
                The logfile location should be changed to outside the inetpub folder in a hard-to-guess location so it cannot be accessed with directory browsing.
            </p>


            <h1><span>Vulnerability:</span> Anonymous FTP</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting9.webp" alt="Successful FileZilla FTP transfer">
            </div>
            <p>
                Using FileZilla, I was able to use anonymous FTP with credentials "anonymous" and "test" found in the logfile.
                Sensitive files were visible on the webserver using FTP. Files could also be uploaded and downloaded from the webserver.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting10.webp" alt="FTP Server was enabled">
            </div>
            <p>
                The webserver does not need FTP enabled, so it would be significantly more secure to disable FTP.
                To disable FTP, I used the Windows Server Manager's Remove Roles and Features Wizard, where I unchecked "FTP Server."
            </p>


            <h1><span>Vulnerability:</span> XSS (Cross-Site Scripting)</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting11.webp" alt="XSS on the Retrieve Order page">
                <img src="webserver-pentesting12.webp" alt="XSS on the Message Board page">
            </div>
            <p>
                Cross-site scripting (XSS) is when an attacker uses Javascript code as input into a form.
                If not configured properly, the input will indeed be interpreted as Javascript, and will run on the client's web browser.
                In this scenario, I used Javascript code that showed a heading confirming a successful XSS attempt.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting13.webp" alt="Detection of XSS in Wireshark">
            </div>
            <p>
                I was able to detect the XSS attempt using Wireshark, a software for analyzing network traffic.
                The Javascript code was directly interpreted as input, and was thus run.
                To prevent this vulnerability, treating input as plaintext and filtering out &lt;script&gt; tags is necessary.
            </p>


            <h1><span>Vulnerability:</span> SQL Injection</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting14.webp" alt="SQL injection">
            </div>
            <p>
                SQL is a the Structured Query Language, and is used for managing relational databases.
                The SQL injection attack uses SQL code as input into a database, which is then interpreted and can be used to gain sensitive information.
                In this case, 1' is the regular input. The apostrophe exists the input string, so that SQL commands can be added.
                OR is a logical operator using in SQL. 1=1 will always evaluate to TRUE.
                So this input will query the first element of the database, and then will loop through all of the other elements and return all of their values.
                Thus, it returns the entire database.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting15.webp" alt="Detecting SQL injection using Wireshark">
            </div>
            <p>
                The process of preventing SQL injection is similar to that of XSS.
                By not allowing symbols in the input, such as apostrophes, SQL injection can be avoided.
                I was also able to detect the SQL injection attempt in Wireshark.
            </p>


            <h1><span>Vulnerability:</span> Inactive Firewall</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting16.webp" alt="The firewall is off">
            </div>
            <p>
                I checked the firewall on the webserver, and found that it was disabled.
                This meant that all ports could be used by services, which could present numerous vulnerabilities.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting17.webp" alt="Turning the firewall on">
            </div>
            <p>
                Turning the firewall on was simple, I just selected "On" in the Windows Firewall settings.
            </p>


            <h1><span>Vulnerability:</span> Ping Replies (Ping Flood Attack)</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting18.webp" alt="Sending ping requests">
                <img src="webserver-pentesting19.webp" alt="Inspecting ping replies using Wireshark">
            </div>
            <p>
                During a ping flood, multiple computers send numerous "ping" requests to a server.
                The idea is to make the server "reply" to this ping request, which requires processing power.
                With enough ping requests, the server will be overwhelmed and will fail, causing a Denial of Service (DoS).
            </p>
            <p>
                Wireshark can be used to detect a ping flood attack.
                If pings are sent in rapid succession and the webserver sends a reply, a ping flood attack is occurring and may be successful.
                In the Wireshark screenshot above, one can see the ping requests and ping replies.
            </p>
            <h2>Preventing the Vulnerability</h2>
            <div class="design-process-image-box">
                <img src="webserver-pentesting20.webp" alt="Ping replies are enabled in the firewall">
                <img src="webserver-pentesting21.webp" alt="Disabling ping replies using the firewall">
            </div>
            <p>
                Once the firewall was enabled, I could block "File and Printer Sharing (Echo Request)."
                By blocking this, the webserver would not reply to pings and ping floods would not be an issue.
            </p>


            <h1><span>No Vulnerability:</span> Loose-Lipped Error Messages</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting22.webp" alt="Evidence of generic HTTP error messages">
            </div>
            <p>
                "Loose-lipped" HTTP error messages are error pages that show sensitive system details.
                These details could include software running on the webserver, versions, and system diagnostics.
                However, this webserver was secured to not show detailed error messages.
                Thus, a generic 404 error was shown in the example above.
            </p>


            <h1><span>No Vulnerability:</span> Remote Code Execution</h1>
            <div class="design-process-image-box">
                <img src="webserver-pentesting23.webp" alt="Remote code execution attempt on the Retrieve Order page">
            </div>
            <p>
                I attempted remote code execution on both the Retrieve Order and the Message Board webpages, but was unsuccessful.
                Remote code execution is when an attacker inputs malicious code into a form that runs directly on the server.
                This makes remote code execution an extremely dangerous vulnerability, as any command can be run as a non-root user.
                In this scenario, I attempted to use the ; operator to chain another command to be executed in PowerShell.
                However, there was no output, so remote code execution is not a vulnerability on this server.
            </p>
            <p>
                To secure a server against remote code execution, programs should never take direct input from a form and use it in a command.
                Input should be searched for special characters which may be used to execute additional commands.
            </p>


            <h1><span>Reflection</span></h1>
            <p>
                <span>Why should a security analyst be able to read and analyze software programs written in Javascript?</span>
                <br>Knowledge of Javascript is absolutely necessary when performing penetration testing on a webserver.
                To identify XSS, SQL injection, or remote code execution vulnerabilities, the security analyst must ensure that
                input is treated as plaintext and that user input will not be processed if it contains special characters used in exploits.
            </p>
            <p>
                <span>Why is it important to plan and then document all the steps you take in a pen test?</span>
                <br>Creating a plan of action is imperative when performing penetration testing.
                Planning out actions saves time later when the exploits are performed, as potential issues can be brainstormed and identified easily.
                It also helps to generate a plan beforehand as necessary actions can be forgotten during a pen test.
                <br>Documentation is necessary to communicate the system audit and findings of the pen test to the administrators responsible for the system.
                This helps them to solve issues quickly to keep systems secure and maximise uptime.
            </p>
        </div>
    </section>

    <!-- footer design -->
    <footer class="footer">
        <div class="footer-text">
            <p>Copyright &copy; 2023 - 2024 by Benjamin Chase</p>
            <p>The code for this website, excluding dependencies, is licensed under the GNU GPLv3 license.</p>
            <p>Code and license are available at: <a href="https://github.com/perspector/perspector.github.io">GitHub</a></p>
        </div>
        
        <div class="social-media">
            <a href="https://github.com/perspector"><i class='bx bxl-github'></i></a>
            <a href="mailto:benjaminlchase@protonmail.com"><i class='bx bxl-gmail'></i></a>
        </div>
    </footer>

    <!-- typed js -->
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <!-- scroll reveal -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!-- custom js -->
    <script src="../../js/script.js"></script>



    <!-- nice code formatting by highlight.js -->
    <link rel="stylesheet"
        href="../../../highlight/styles/a11y-dark.min.css">
    <script src="//unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</body>

</html>
